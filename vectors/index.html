
<!DOCTYPE html>

<html lang="ca">
<head>
      <!-- Conté la informació pel programador i és obligatori la secció head-->
    <meta charset="UTF-8">
      <!-- És el document html, escrit en català i amb un conjunt de conectors de caràcters UTF-8 perquè accepti els accens i ç.-->

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suma de Vectors Nàutics: Vaixell, Vent i Corrent</title>
    <script>
        // Les barres inclinades són comentaris de javascript aquest codi
        // que hi ha entre script és un llenguatge diferent a html, es javascript.
        /*
        comentari multilínia
        a sota tenim un codi javascript de configuració de mathjax, que permet renderitzar (visualitzar bé)
        les fòrmules matemàtiques en una pàgina web. Mathjax utilitza dos tipus de llenguatges matemàtics:
        TeX/LaTeX i MathML, TeX es pronuncia Tech i LaTeX significa Lamport que és el cognom de la persona que va modificar TeX per fer-lo més,
        MathML es un llenguatge més modern semblant al LaTeX, però més llarg, ML significa Markup Language, llenguatge de marques. MathML és molt semblant a HTML (Hyper Text Markup Language). 
        S'utilitza LaTeX per escriure fórmules ràpidament i amb qualitat. Fa servir símbols com $ o \\ per indicar el seu ús. 
        Ex: <p>
        When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and they are
  \[x = {-b \pm \sqrt{b^2-4ac} \over 2a}.\]
  </p> <-- Equació de segón grau. QUe significa non equal, ^ elevat, pm plus minus, sqrt square root.
  
        */
        
        window.MathJax = {
            /* Mathjax es una biblioteca de javascript que serveix per escriure fórmules matemàtiques
            Crea una variable global anomenada window.MathJax que és carregarà quan es carregui la pàgina web al principi
             i farà que quan tenim les fórmules en línia (InlineMath) és a dir text normal i una fórmula a la mateixa línia hem d'escriure obligatoriament al principi 
            un o dos dólars ($). Pot ser a la mateixa línia o en el mateix paràgraf, sense salts de línies ni centrats. InlineMath comprova que quan hi hagin $ o \ sigui MathJax a la mateix línia.
            svg (Vector gràfic escalable) fa que les imatges es renderitzin en formes geomètriques en comptes de pixels per fer que les imatges i les formules no es pixelin. 
            */
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' } //svg vol dir vectors gràfics escalables, es poden fer molt grans o molt petits.
              // Les imatges poden ser de dos tipus, svg o mapa de bit. Els mapes de bit estàn fets de pixels i són els png o jpg o gif.
              // Els svg són millors que els mapes de bit, perquè són fórmules matemàtiques i ens permeten fer dibuixos perfectes.
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
          /* Diferencia entre serif, sans-serif i monospace.
           Model de caixes css o box model css, en el box model tenim una capa al voltant del contingut o contet que es diu padding, al voltant
           del padding es troba el border i al voltant del border es troba al margin. Margin, border i padding són propietats css, (properties) que van seguides de :
          i un valor o value en pixels. Tots el css són iguals, primer es posa el nom de la etiqueta html o tag a la cual volem donar-li un o diversos estils,
          per exemple h2 o button o canvas... Després del tag es posa una clau de tipus "curly bracket" i a sota es posa 
          propietat[:valor1]; 1 en la línia següent propietat2[:valor2];
          si la propietat es color el valor es #333. El número #333 no és un número decimal, és un número hexadecmal de base 16.
          Els valors hexadecimals van del 0 al 9, A(vol dir 10), B(vol dir 11), C(vol dir 12), D(vol dir 13), E(vol dir 14), F(vol dir 15)
          Els codis dels colors tenen tres valors hexadecimals que van del 00 al FF, és a dir que tinc una cominació que va des del 
          000000 al FFFFFF. Els dos primers digits son el color vermell, els dos següents són el color verd i els dos últims són blaus.
          Recordar RGB (Red Green Blue). Tenim 256 elevat a la 3·16 milions 7000 mil colors diferents.
          El color es pot expressar en hexadecimal o en rgb en decimal, per exemple #FF0000, és 256,0,0.
          A vegades noms en angles com red o noms que puc troar amb color names html en google. h2 de la lin 60 controla el h2 de la linia 73.
          i el #333 és el color gris, llavors que fa la línia 73? Fa que el títol sigui gris.
          */
        h2 { color: #333; }
        input[type="number"] { width: 70px; margin-right: 10px; }
          /*L'input és una etiqueta html que permet l'entrada de dades per l'usuari i al ser de tipus number només accepta números. El input és com una caixa de text per a que
          escrigui l'usuari i tindra una amplada definida a la línia 60 amb css width és amplada en anglès i amb 70 píxels d'amplada puc escriure més d'un número d'ample,
          i perquè deixo marge de 10 píxels a la dreta? Per tenir espai i no s'uneixi amb l'informació a l'entrada de l'usuari, sería un marge dintre de la caixa.
          */
        button { padding: 8px 16px; margin-top: 10px; cursor: pointer; }
          /* A aquesta línia esta la configuració del botó o els botons que està a la 114 i ens permet calcular quan clico.
          Aquest botó té padding o marge interior, quan hi ha dos números, 8 píxels i 16 píxels, si hi ha un número significa que els marges estan pels 4 costats
          i són iguals a aquests números, i hi ha dos números, el primer número es el mateix marge adalt i abaix, i el segon número es a la dreta i a la esquerra.
          Enaquest cas té 8 píxels adalt i abaix y 16 a la dreta i esquerra. Cursor pointer vol dir que es vegi el cursor dins de la textbox.
          */
        .result { margin-top: 20px; background-color: #f0f0f0; padding: 10px; border-radius: 5px; }
          /* Result té un pnt davant per marcar que forma part d'una classe vol dir que es poden afectar diverses parts que tenen result.
          #f0f0f0 es el color que té el fons. Els marges tenen 20 píxels adalt i abaix i 10 als costats y un bordre de 5 píxels.
          */
        canvas { border: 1px solid #ccc; margin-top: 20px; background-color: #f9f9f9; }
          /* canvas a la línia 127 es una etiqueta html que correspon a una área de dibuix que si em fixo en línia 127 esta buida, perquè
          entre <canvas> i </canvas> no hi ha res, a més diu que l'style es displaynone, es a dir que no es vegi. 
          La línia 76 esta controlant la línia 127, es a dir controla com és el canvas. Quan sigui visible el canvas tindrá el següent estil:
          Els bordes tenen un gruix de 1px, es sólid, perquè podría ser puntejat amb la paraula dotted, podría ser també double i veuriem
          un borde al voltant del primer. Podríem posar margin-top d'una altra manera? margin: 20px 0 0 0;. Ser que aquest color de fons es
          gris, perquè aumento de la mateixa manera i amb el mateix número rgb. Com podría fer el background-color d'una altra manera?
          f9 es un número hexadecimal Multiplicar cada dígito de F9 hexadecimal  (F9)₁₆= (15 × 16^1) + (9 × 16^0), i en binari es 11111001.
          El número 249 es decimal i si vull pasar-lo a binari, he de dividir entre 2 com vam aprendre a quart. Si la base que volem transformar
          es 64 o 32, hem d'utilitzar més lletres de l'alfabet.
  
          */
        .teoria { background: #eef; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
          /* El punt davant de teoria es una classe, està a la línia 100 i és un divisor, un tros de codi que funciona independent i que
          tindrà les característiques de la línia 100, que són: color grisós, marge interior, radi a les cantonades i un marge per sota.
          */
    </style>
</head>
<body>
    <h1>Suma de Vectors Nàutics: Vaixell, Vent i Corrent</h1>
      <!-- h1 és la capçalera i té tamany de títol d'apartat molt gran, h2 és més petit, fins a h6 que és el mínim. -->
      


<div class="teoria">
    <h2>Recordatori Teòric</h2>
    <p>Per un vector de mòdul $V$ i rumb $\theta$ (en graus):</p>
      <!-- Els dólars ($) dintre del paràgraf fa que els símbols matemàtics s'expressin en el tipus de lletra MathJax que és un tipus
      de LaTeX, si volem lletres gregues hem de posar el nom en anglès amb una barra inclinada (\) abans-->
    <ul>
        <li>$\theta_{rad} = \theta \cdot \pi / 180$</li>
        <li>Component horitzontal (X): $V_x = V \cdot \sin(\theta_{rad})$</li>
        <li>Component vertical (Y): $V_y = V \cdot \cos(\theta_{rad})$</li>
    </ul>
    <p>Suma de vectors:</p>
    <ul>
        <li>$R_x = V_x + W_x + C_x$</li>
        <li>$R_y = V_y + W_y + C_y$</li>
    </ul>
    <p>Vector resultant:</p>
    <ul>
        <li>$|R| = \sqrt{R_x^2 + R_y^2}$</li>
        <li>$\theta_R = \arctan\left(\frac{R_x}{R_y}\right)$</li>
    </ul>
</div>

<p>Introdueix els vectors (rumb en graus i velocitat en nusos) i clica "Calcula".</p>

<div>
    <h2>Vector del Vaixell ($\vec{V}$)</h2>
    Rumb: <input type="number" id="vRumb" value="146">°
    Velocitat: <input type="number" id="vVel" value="10"> nusos
</div>

<div>
    <h2>Vector del Vent ($\vec{W}$)</h2>
    Rumb: <input type="number" id="wRumb" value="240">°
    Velocitat: <input type="number" id="wVel" value="5"> nusos
</div>

<div>
    <h2>Vector del Corrent ($\vec{C}$)</h2>
    Rumb: <input type="number" id="cRumb" value="30">°
    Velocitat: <input type="number" id="cVel" value="3"> nusos
</div>

<button onclick="calculaVectors()">Calcula</button>

<div id="result" class="result" style="display:none;"></div>
<canvas id="canvas" width="500" height="500" style="display:none;"></canvas>

<script>
    function calculaVectors() {
        const vRumb = parseFloat(document.getElementById('vRumb').value);
        const vVel = parseFloat(document.getElementById('vVel').value);
        const wRumb = parseFloat(document.getElementById('wRumb').value);
        const wVel = parseFloat(document.getElementById('wVel').value);
        const cRumb = parseFloat(document.getElementById('cRumb').value);
        const cVel = parseFloat(document.getElementById('cVel').value);

        const degToRad = Math.PI / 180;
        const vRad = vRumb * degToRad;
        const wRad = wRumb * degToRad;
        const cRad = cRumb * degToRad;

        const Vx = vVel * Math.sin(vRad);
        const Vy = vVel * Math.cos(vRad);
        const Wx = wVel * Math.sin(wRad);
        const Wy = wVel * Math.cos(wRad);
        const Cx = cVel * Math.sin(cRad);
        const Cy = cVel * Math.cos(cRad);

        const Rx = Vx + Wx + Cx;
        const Ry = Vy + Wy + Cy;
        const Rmag = Math.sqrt(Rx**2 + Ry**2);
        let Rdeg = Math.atan2(Rx, Ry) * 180 / Math.PI;
        if (Rdeg < 0) Rdeg += 360;

        const resultDiv = document.getElementById('result');
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
            <h2>Resultats pas a pas</h2>

            <p><strong>Conversió a radians:</strong></p>
            <ul>
                <li>$${vRumb}^\\circ \\cdot \\pi/180 = ${(vRad).toFixed(3)} \\, rad$</li>
                <li>$${wRumb}^\\circ \\cdot \\pi/180 = ${(wRad).toFixed(3)} \\, rad$</li>
                <li>$${cRumb}^\\circ \\cdot \\pi/180 = ${(cRad).toFixed(3)} \\, rad$</li>
            </ul>

            <p><strong>Components (usant sin i cos):</strong></p>
            <ul>
                <li>$V_x = ${vVel} \\cdot \\sin(${vRumb}^\\circ) = ${Vx.toFixed(3)}$</li>
                <li>$V_y = ${vVel} \\cdot \\cos(${vRumb}^\\circ) = ${Vy.toFixed(3)}$</li>
                <li>$W_x = ${wVel} \\cdot \\sin(${wRumb}^\\circ) = ${Wx.toFixed(3)}$</li>
                <li>$W_y = ${wVel} \\cdot \\cos(${wRumb}^\\circ) = ${Wy.toFixed(3)}$</li>
                <li>$C_x = ${cVel} \\cdot \\sin(${cRumb}^\\circ) = ${Cx.toFixed(3)}$</li>
                <li>$C_y = ${cVel} \\cdot \\cos(${cRumb}^\\circ) = ${Cy.toFixed(3)}$</li>
            </ul>

            <p><strong>Suma de components:</strong></p>
            <ul>
                <li>$R_x = ${Vx.toFixed(3)} + ${Wx.toFixed(3)} + ${Cx.toFixed(3)} = ${Rx.toFixed(3)}$</li>
                <li>$R_y = ${Vy.toFixed(3)} + ${Wy.toFixed(3)} + ${Cy.toFixed(3)} = ${Ry.toFixed(3)}$</li>
            </ul>

            <p><strong>Mòdul (teorema de Pitàgores):</strong></p>
            <p>$|R| = \\sqrt{(${Rx.toFixed(3)})^2 + (${Ry.toFixed(3)})^2} = ${Rmag.toFixed(2)} \\, nusos$</p>

            <p><strong>Rumb (funció arctan):</strong></p>
            <p>$\\theta_R = \\arctan\\left(\\frac{${Rx.toFixed(3)}}{${Ry.toFixed(3)}}\\right) = ${Rdeg.toFixed(2)}^\\circ$</p>
        `;
        MathJax.typeset();

        const canvas = document.getElementById('canvas');
        canvas.style.display = 'block';
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        const cx0 = canvas.width/2;
        const cy0 = canvas.height/2;
        const scale = 15;

        function drawVector(x, y, color, label) {
            ctx.beginPath();
            ctx.moveTo(cx0, cy0);
            ctx.lineTo(cx0 + x*scale, cy0 - y*scale);
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.stroke();

            const angle = Math.atan2(-y, x);
            const headLength = 10;
            ctx.beginPath();
            ctx.moveTo(cx0 + x*scale, cy0 - y*scale);
            ctx.lineTo(cx0 + x*scale - headLength*Math.cos(angle - Math.PI/6),
                       cy0 - y*scale + headLength*Math.sin(angle - Math.PI/6));
            ctx.lineTo(cx0 + x*scale - headLength*Math.cos(angle + Math.PI/6),
                       cy0 - y*scale + headLength*Math.sin(angle + Math.PI/6));
            ctx.lineTo(cx0 + x*scale, cy0 - y*scale);
            ctx.fillStyle = color;
            ctx.fill();

            ctx.fillStyle = color;
            ctx.font = "14px Arial";
            ctx.fillText(label, cx0 + x*scale + 5, cy0 - y*scale - 5);
        }

        drawVector(Vx, Vy, 'blue', 'V');
        drawVector(Wx, Wy, 'green', 'W');
        drawVector(Cx, Cy, 'orange', 'C');
        drawVector(Rx, Ry, 'red', 'R');
    }
</script>

</body>
</html>


